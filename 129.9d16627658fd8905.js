"use strict";(self.webpackChunkrick_and_morty=self.webpackChunkrick_and_morty||[]).push([[129],{3129:(Wn,at,l)=>{l.r(at),l.d(at,{HomeComponent:()=>$n});var y=l(6814),lt=l(9862),ut=l(86),ye=l(6471),i=l(6689),ct=(l(7715),l(5592),l(7453),l(4829),l(4564),l(8251));l(7400),l(2714),l(7398);const A=new i.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>P}),P="always";let Qt=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=i.oAB({type:e});static#n=this.\u0275inj=i.cJS({})}return e})(),Mn=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=i.oAB({type:e});static#n=this.\u0275inj=i.cJS({imports:[Qt]})}return e})(),wn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:A,useValue:t.callSetDisabledState??P}]}}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=i.oAB({type:e});static#n=this.\u0275inj=i.cJS({imports:[Mn]})}return e})();var ge=l(8645),En=l(7394);class Fn extends En.w0{constructor(n,t){super()}schedule(n,t=0){return this}}const H={setInterval(e,n,...t){const{delegate:r}=H;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=H;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var Sn=l(9039);const me={now:()=>(me.delegate||Date).now(),delegate:void 0};class E{constructor(n,t=E.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}E.now=me.now;const Gn=new class Nn extends E{constructor(n,t=E.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class xn extends Fn{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return H.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&H.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let o,r=!1;try{this.work(n)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Sn.P)(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});var Pn=l(9360),In=l(3997),Tn=l(4664),kn=l(6306),Hn=l(2096),Un=l(9773),_e=l(5742),Rn=l(2425);let jn=(()=>{class e{constructor(t,r){this.characterService=t,this.toastr=r,this.searchResults=new i.vpe,this.searchTerm=new ge.x,this.destroy$=new ge.x,this.searchTerm.pipe(function Bn(e,n=Gn){return(0,Pn.e)((t,r)=>{let o=null,s=null,a=null;const c=()=>{if(o){o.unsubscribe(),o=null;const h=s;s=null,r.next(h)}};function p(){const h=a+e,V=n.now();if(V<h)return o=this.schedule(void 0,h-V),void r.add(o);c()}t.subscribe((0,ct.x)(r,h=>{s=h,a=n.now(),o||(o=n.schedule(p,e),r.add(o))},()=>{c(),r.complete()},void 0,()=>{s=o=null}))})}(300),(0,In.x)(),(0,Tn.w)(o=>this.characterService.searchCharacters(o).pipe((0,kn.K)(()=>(this.toastr.error("Nenhum personagem encontrado!","Erro",{toastClass:"toast toast-error"}),(0,Hn.of)({results:[]}))))),(0,Un.R)(this.destroy$)).subscribe(o=>this.searchResults.emit(o.results))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(t){this.searchTerm.next(t.target.value)}static#t=this.\u0275fac=function(r){return new(r||e)(i.Y36(_e.A),i.Y36(Rn._W))};static#e=this.\u0275cmp=i.Xpm({type:e,selectors:[["app-search-characters"]],outputs:{searchResults:"searchResults"},standalone:!0,features:[i.jDz],decls:2,vars:0,consts:[[1,"search-container"],["type","text","placeholder","Pesquisar Personagens",1,"search-input",3,"input"]],template:function(r,o){1&r&&(i.TgZ(0,"div",0)(1,"input",1),i.NdJ("input",function(a){return o.onSearch(a)}),i.qZA()())},dependencies:[y.ez,wn,lt.JF],styles:[".search-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.search-input[_ngcontent-%COMP%]{padding:.9rem;border-radius:.75rem;border:1px solid #3D3D3D;width:443px;background-color:#1f1f1f;color:#a4a4a4;position:absolute;right:16%}.search-input[_ngcontent-%COMP%]::placeholder{color:#a4a4a4}@media (max-width: 1024px){.search-input[_ngcontent-%COMP%]{width:350px;right:10%}}@media (max-width: 768px){.search-input[_ngcontent-%COMP%]{width:250px;right:5%}}@media (max-width: 480px){.search-input[_ngcontent-%COMP%]{width:200px;right:2%}}"]})}return e})();const Ln=function(e){return{active:e}};function Yn(e,n){if(1&e){const t=i.EpF();i.TgZ(0,"div",7),i._UZ(1,"img",8),i.TgZ(2,"div",9)(3,"h2",10),i._uU(4),i.qZA(),i.TgZ(5,"p",11),i._uU(6),i.qZA(),i.TgZ(7,"p",11),i._uU(8),i.qZA(),i.TgZ(9,"p",11),i._uU(10),i.qZA(),i.TgZ(11,"button",12),i.NdJ("click",function(){const s=i.CHM(t).$implicit,a=i.oxw();return i.KtG(a.toggleFavorite(s))}),i._UZ(12,"i",13),i.qZA()()()}if(2&e){const t=n.$implicit,r=i.oxw();i.xp6(1),i.Q6J("src",t.image,i.LSH)("alt",t.name),i.xp6(3),i.Oqu(t.name),i.xp6(2),i.hij("Status: ",t.status,""),i.xp6(2),i.hij("Species: ",t.species,""),i.xp6(2),i.hij("Gender: ",t.gender,""),i.xp6(1),i.Q6J("ngClass",i.VKq(7,Ln,r.isFavorite(t)))}}let $n=(()=>{class e{constructor(t,r){this.characterService=t,this.router=r}ngOnInit(){this.characterService.getAllCharacters().subscribe(t=>{this.characterService.setSearchResults(t)}),this.characters$=this.characterService.searchResults$,this.favorites$=this.characterService.favorites$}toggleFavorite(t){this.isFavorite(t)?this.characterService.removeFavorite(t):this.characterService.addFavorite(t)}isFavorite(t){let r=!1;return this.favorites$.subscribe(o=>{r=o.some(s=>s.id===t.id)}),r}onSearchResults(t){this.characterService.setSearchResults(t)}static#t=this.\u0275fac=function(r){return new(r||e)(i.Y36(_e.A),i.Y36(ut.F0))};static#e=this.\u0275cmp=i.Xpm({type:e,selectors:[["app-home"]],standalone:!0,features:[i.jDz],decls:10,vars:3,consts:[[1,"relative","min-h-screen","p-4","bg-[#1f1f1f]"],[1,"layout","max-w-screen-lg","mx-auto","flex","items-center","justify-between","space-x-4","bg-[#1f1f1f]","mt-8"],[1,"rick-and-morty-title"],[1,"search-box",3,"searchResults"],[1,"relative","z-10","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4","mt-8","mx-auto","max-w-screen-lg"],["class","relative bg-[#0a0a0a] rounded-lg shadow border border-[#3D3D3D]",4,"ngFor","ngForOf"],[1,"relative","bg-[#0a0a0a]","rounded-lg","shadow","border","border-[#3D3D3D]"],[1,"w-full","h-auto","rounded-t-lg",3,"src","alt"],[1,"p-4"],[1,"text-xl","font-bold","text-white"],[1,"text-[#a4a4a4]"],[1,"favorite-button","absolute","top-0","right-0","m-2",3,"ngClass","click"],[1,"fas","fa-heart"]],template:function(r,o){1&r&&(i._UZ(0,"app-header"),i.TgZ(1,"div",0)(2,"div",1)(3,"h1",2),i._uU(4,"In\xedcio"),i.qZA(),i.TgZ(5,"app-search-characters",3),i.NdJ("searchResults",function(a){return o.onSearchResults(a)}),i.qZA()(),i.TgZ(6,"div",4)(7,"div",5),i.YNc(8,Yn,13,9,"div",6),i.ALo(9,"async"),i.qZA()()()),2&r&&(i.xp6(8),i.Q6J("ngForOf",i.lcZ(9,1,o.characters$)))},dependencies:[y.ez,y.mk,y.sg,y.Ov,ye.G,jn,lt.JF,ut.Bz],styles:['.rick-and-morty-title[_ngcontent-%COMP%]{font-family:Creepster,cursive;color:#00b5cc;text-shadow:2px 2px 0px #b2df28,4px 4px 0px #000000;font-size:3.5rem}.search-box[_ngcontent-%COMP%]{width:22rem}.flex[_ngcontent-%COMP%]{align-items:center;padding:1rem}.mt-8[_ngcontent-%COMP%]{margin-top:2rem}.relative[_ngcontent-%COMP%]{position:relative}.shadow[_ngcontent-%COMP%]{box-shadow:0 4px 6px #0000001a}button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}button[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:1.5rem;color:#000;border:2px solid #fafafa;border-radius:50%;padding:5px}img[_ngcontent-%COMP%]{border-radius:.5rem .5rem 0 0;object-fit:cover}.bg-custom-dark[_ngcontent-%COMP%]{background-color:#1f1f1f}.card-container[_ngcontent-%COMP%]{background-color:#0a0a0a}.text-white[_ngcontent-%COMP%]{color:#fff}.text-custom-gray[_ngcontent-%COMP%]{color:#a4a4a4}button[_ngcontent-%COMP%]:hover   .fas[_ngcontent-%COMP%]{color:#0a0a0a}button.active[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#0a0a0a;background-color:#fafafa}button[_ngcontent-%COMP%]:before{content:"";display:block;width:30px;height:30px;border-radius:50%;background-color:#0a0a0a;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:-1}button.active[_ngcontent-%COMP%]:before{background-color:#fafafa}.border-custom-border[_ngcontent-%COMP%]{border-color:#3d3d3d}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.search-input[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;border:1px solid #3D3D3D;width:375px;background-color:#1f1f1f;color:#a4a4a4}.search-input[_ngcontent-%COMP%]::placeholder{color:#a4a4a4}']})}return e})()}}]);